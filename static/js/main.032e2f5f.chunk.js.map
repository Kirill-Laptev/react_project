{"version":3,"sources":["redux/dialogsReducer.js","components/Navbar/Friends/Friend/Friend.module.css","components/Paginator/Paginator.module.css","temp/image/Spinner-1s-200.svg","api/api.js","components/Navbar/Navbar.module.css","serviceWorker.js","components/Navbar/Navbar.jsx","components/Music/Music.jsx","components/News/News.jsx","components/Settings _/Settings.jsx","redux/usersReducer.js","components/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/UsersFunc.jsx","redux/user-selector.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/authReducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/appReducer.js","redux/friendsReducer.js","redux/redux-store.js","hoc/withSuspense.jsx","App.js","index.js","common/FormControls/FormControls.module.css","common/Preloader/Preloader.jsx","common/FormControls/FormControls.jsx","components/Navbar/Friends/Friends.module.css","redux/profileReducer.js","utilities/validators/validators.js","components/Users/Users.module.css","temp/image/user.png","components/Header/Header.module.css","hoc/withAuthRedirect.jsx"],"names":["initialState","dialogsData","id","name","messagesData","text","addDialogsPost","newMessage","type","dialogsReducer","state","action","module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollowRequest","userID","delete","followRequest","post","authAPI","getAuth","login","email","password","rememberMe","logout","profileAPI","getUserProfile","getStatus","updateStatus","status","put","Boolean","window","location","hostname","match","Navbar","props","className","s","nav","item","activeClassName","activeLink","to","Music","News","Settings","usersData","totalUsersCount","isLoading","followingInProgress","follow","unfollow","toggleIsLoading","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","map","user","followed","users","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","onClick","page","styles","selectedPage","User","unfollowSuccess","followSuccess","userPhoto","src","photos","small","disabled","some","UsersFunc","getUsersData","usersPage","getPageSize","getTotalCurrentPage","getIsLoading","getFollowingInProgress","UsersContainer","createSelector","pageNumber","this","Preloader","React","Component","compose","connect","items","totalCount","bind","withAuthRedirect","Header","header","alt","loginBlock","isAuth","setAuthUserData","getAuthUserDataThunkCreator","authReducer","HeaderContainer","auth","ReduxLoginForm","reduxForm","form","handleSubmit","error","onSubmit","Field","placeholder","component","Input","validate","requiredField","style","formSummuryError","message","messages","length","stopSubmit","_error","initialized","appReducer","friendsInfo","friendsReducer","require","createStore","combineReducers","applyMiddleware","store","dialogsPage","profilePage","profileReducer","friendsBlock","formReducer","app","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","thunkMiddleware","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","promise","Promise","all","MainApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","preloader","Textarea","input","meta","touched","hasError","formControl","postsData","likeCounts","newPostText","userProfile","fakeNum","addPost","setStatus","getProfileThunkCreator","getUserStatusTC","updateUserStatusTC","newPost","postID","value","maxLengthCreator","maxLength","mapStateToPropsRedirect","RedirectComponent"],"mappings":"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","file":"static/js/main.032e2f5f.chunk.js","sourcesContent":["const ADD_DIALOGS_POST = 'ADD-DIALOGS-POST';\n\nlet initialState = {\n  dialogsData: [\n    { id: \"1\", name: \"Sveta\" },\n    { id: \"2\", name: \"Nikita\" },\n    { id: \"3\", name: \"Dmitry\" },\n    { id: \"4\", name: \"Nikolay\" },\n    { id: \"5\", name: \"Fedor\" },\n    { id: \"6\", name: \"Natasha\" },\n  ],\n  messagesData: [\n    { text: \"Hi\" },\n    { text: \"How are you ?\" },\n    { text: \"Yo\" },\n    { text: \"Yo\" },\n    { text: \"Yo\" },\n    { text: \"Yo\" },\n  ],\n};\n\n\n\nconst dialogsReducer = (state = initialState, action) => {\n\n\n  switch (action.type) {\n\n    case ADD_DIALOGS_POST: \n\n    return {\n      ...state,\n      messagesData: [...state.messagesData, {text: action.newMessage}],  \n\n    }\n\n    default:\n      return state;\n  }\n};\n\n\n\nexport const addDialogsPost = (newMessage) => {\n  return {type: ADD_DIALOGS_POST, newMessage}\n}\n\n\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends__item\":\"Friend_friends__item__3fkEy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3LxJC\"};","module.exports = __webpack_public_path__ + \"static/media/Spinner-1s-200.27fc27b6.svg\";","import * as axios from 'axios';\n\n\n\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {\n      \"api-key\": \"1e60f3eb-a2f7-4f18-b8e9-f6ea4b15f04b\"\n    }\n})\n\n\nexport const usersAPI = {\n    getUsers(currentPage, pageSize) {\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\n        .then((response) => {\n            return response.data; \n        }) \n    },\n    unfollowRequest(userID){\n        return instance.delete(`follow/${userID}`)\n    },\n    followRequest(userID){\n        return instance.post(`follow/${userID}`);\n    },\n}\n\n\n\nexport const authAPI = {\n    getAuth(){\n        return instance.get(`auth/me`);\n    },\n    login(email, password, rememberMe = false){ // По умолчанию чекбокс false\n        return instance.post(`auth/login`, {email, password, rememberMe})\n    },\n    logout(){\n        return instance.delete(`auth/login`)\n    }\n}\n\n\nexport const profileAPI = {\n    getUserProfile(userID){\n        return instance.get(`profile/${userID}`)\n    },\n    getStatus(userID){\n        return instance.get(`profile/status/${userID}`)\n    },\n    updateStatus(status){\n        return instance.put(`profile/status`, {status: status})\n    }\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"activeLink\":\"Navbar_activeLink__3etBE\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport s from './Navbar.module.css';\nimport { NavLink } from 'react-router-dom';\nimport Friends from './Friends/Friends';\n\nconst Navbar = (props) => {\n    return(\n      <div className={s.nav}>\n        <nav>\n        <div className={s.item}><NavLink activeClassName={s.activeLink} to='/profile'>Profile</NavLink></div>\n        <div className={s.item}><NavLink activeClassName={s.activeLink} to='/dialogs'>Messages</NavLink></div>\n        <div className={s.item}><NavLink activeClassName={s.activeLink} to='/news'>News</NavLink></div>\n        <div className={s.item}><NavLink activeClassName={s.activeLink}  to='/music'>Music</NavLink></div>\n        <div className={s.item}><NavLink activeClassName={s.activeLink}  to='/settings'>Settings</NavLink></div>\n        <div className={s.item}><NavLink activeClassName={s.activeLink} to='/users'>Users</NavLink></div>\n      </nav>\n      {/* <Friends state={props.state}/> */}\n      </div>\n    )\n}\n\nexport default Navbar;","import React from 'react';\n\nconst Music = (props) => {\n    return(\n        <div>Music</div>\n    )\n}\n\nexport default Music;","import React from 'react';\n\nconst News = () => {\n    return (\n        <div>News</div>\n    )\n}\n\nexport default News;","import React from 'react';\n\nconst Settings = () => {\n    return (\n        <div>Settings</div>\n    )\n}\n\nexport default Settings;","import { usersAPI } from \"../api/api\";\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET_USERS';\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_LOADING = 'TOGGLE_IS_LOADING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\n\n\nlet initialState = {\n    usersData: [],\n    pageSize: 5,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isLoading: true,\n    followingInProgress: [],\n};\n\n\n\nconst usersReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case FOLLOW :\n        \n            return {\n                ...state,\n                usersData: state.usersData.map((user) => {\n                    if(user.id === action.userID){\n                        return {\n                            ...user,\n                            followed: true\n                        }\n                    }\n                    return user;\n                })\n            }\n            \n        case UNFOLLOW :\n            \n            return {\n                ...state,\n                usersData: state.usersData.map((user) => {\n                    if(user.id === action.userID){\n                        return {\n                            ...user,\n                            followed: false\n                        }\n                    }\n                    return user;\n                })\n            }\n\n        case SET_USERS :\n            \n        return {\n            ...state,\n            usersData: action.users,\n        \n        }    \n\n        case SET_CURRENT_PAGE :\n            return{\n                ...state,\n                currentPage: action.currentPage,\n            }\n\n        case SET_TOTAL_USERS_COUNT : \n            return {\n                ...state,\n                totalUsersCount: action.totalUsersCount,\n            }\n\n        case TOGGLE_IS_LOADING : \n            return {\n                ...state,\n                isLoading: action.isLoading\n            }\n\n        case TOGGLE_IS_FOLLOWING_PROGRESS :\n            return {\n                ...state,\n                followingInProgress: action.isLoading \n                ? [...state.followingInProgress, action.userID]\n                : state.followingInProgress.filter(id => id != action.userID)  // Фильтрация вернет новую копию массива, \n                                                                               // поэтому не нужна деструктуризация state\n            }\n        \n        default:\n            return state;\n    \n    }\n} \n    \n \n\n\nexport const follow = (userID) => {\n    return {type: FOLLOW, userID}\n}\n\nexport const unfollow = (userID) => {\n    return {type: UNFOLLOW, userID}\n}\n\nexport const setUsers = (users) => {\n    return {type: SET_USERS, users}\n} \n\nexport const setCurrentPage = (pageNumber) => {\n    return {type: SET_CURRENT_PAGE, currentPage: pageNumber}\n}\n\nexport const setTotalUsersCount = (totalCount) => {\n    return {type: SET_TOTAL_USERS_COUNT, totalUsersCount: totalCount}\n}\n\nexport const toggleIsLoading = (isLoading) => {\n    return {type: TOGGLE_IS_LOADING, isLoading: isLoading}\n}\n\nexport const toggleFollowingProgress = (isLoading, userID) => {\n    return {type: TOGGLE_IS_FOLLOWING_PROGRESS, isLoading: isLoading, userID: userID}\n}\n\n\n\n\nexport const getUsersThunkCreator = (currentPage, pageSize) => {\n    return async (dispatch) => {\n        dispatch(toggleIsLoading(true));\n        dispatch(setCurrentPage(currentPage))\n        \n        let response = await usersAPI.getUsers(currentPage, pageSize)\n        \n        dispatch(toggleIsLoading(false));\n        dispatch(setUsers(response.items));\n        dispatch(setTotalUsersCount(response.totalCount));\n    \n    }\n}\n\n\n\n\n// Создали функцию для Thunk Creator чтобы не дублировался код\n\nconst followUnfollowFlow = async (dispatch, userID, apiMethod, actionCreator) => {\n\t \n    dispatch(toggleFollowingProgress(true, userID));\n\n    let response = await apiMethod(userID)\n    \n    if(response.data.resultCode === 0){\n        dispatch(actionCreator(userID))\n    }\n    dispatch(toggleFollowingProgress(false, userID)) ;\n\n}\n\n\n\n\nexport const followSuccessThunkCreator = (userID) => {\n    return async (dispatch) => {\n\n    let apiMethod = usersAPI.followRequest.bind(usersAPI)\n\n    followUnfollowFlow(dispatch, userID, apiMethod, follow)\n    \n    }\n}\n\n\nexport const unfollowSuccessThunkCreator = (userID) => {\nreturn async (dispatch) => {\n\n    let apiMethod = usersAPI.unfollowRequest.bind(usersAPI)\n\n    followUnfollowFlow(dispatch, userID, apiMethod, unfollow)\n    \n    }   \n}\n\n\n\n\n\n                      \n                         \n\n\n\n\nexport default usersReducer;\n\n","import React, { useState } from 'react';\nimport styles from './Paginator.module.css';\n\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\n\n    let pagesCount = Math.ceil(totalItemsCount/pageSize);\n\n    let pages = [];\n\n    for(let i = 1; i <= pagesCount; i++){  \n      pages.push(i);\n    }\n\n    let portionCount = Math.ceil(pagesCount/portionSize); // Сколько всего порций у нас получится\n\n    // Используем хук для создания локального state\n\n    let [portionNumber, setPortionNumber] = useState(1);\n\n    // Определяем левую границу порции для это используем формулу\n\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\n    let rightPortionPageNumber = portionNumber * portionSize;  // С правой границей полегче\n\n\n    \n\n    return (\n      <div>\n      {portionNumber > 1\n      ? <button onClick={() => setPortionNumber(portionNumber - 1)}>PREV</button>  // Только если у нас номер порции больше 1 - показываем кнопку влево\n      : ''}\n\n       {pages\n       .filter((page) => page >= leftPortionPageNumber && page <= rightPortionPageNumber ) // Делаем фильтрацию, которая возвращает массив только в определенном диапазоне, например числа от 21 до 30\n       .map((page) => {\n          return <span className={currentPage === page ? styles.selectedPage : ''}\n          onClick={ () => {onPageChanged(page)}}>{page + ' '}</span>\n        })}\n\n      {portionCount > portionNumber // Стрелка вправо будет показываться только тогда когда количество порций больше, чем количество текущей порции\n      ? <button onClick={() => setPortionNumber(portionNumber + 1)}>NEXT</button> // При клике на стрелку устанавливаем номер  порции больше на 1\n      : ''} \n      </div>                    \n    );\n  }\n\n\nexport default Paginator;","import React from 'react';\nimport styles from './Users.module.css';\nimport userPhoto from '../../temp/image/user.png'\nimport { NavLink } from 'react-router-dom';\n\n\nconst User = ({user, followingInProgress, unfollowSuccess, followSuccess}) => {\n\n\n\n  return (\n    <div>\n        <div>\n          <span>\n            <div>\n              <NavLink to={'/profile/' + user.id}>\n              <img\n                className={styles.userPhoto}\n                src={user.photos.small ? user.photos.small : userPhoto}\n              />\n              </NavLink>\n              <div>\n                {user.followed \n                  ? (<button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\n                    unfollowSuccess(user.id);\n                    \n                  }}>\n                    Unfollow\n                  </button>)\n                :  (<button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\n                  followSuccess(user.id);\n\n                }}>\n                  Follow\n                </button>)\n                }\n              </div>\n            </div>\n          </span>\n          <span>\n            <div>{user.name}</div>\n            <div>{user.status}</div>\n            <span>\n              <div>{\"user.location.country\"}</div>\n              <div>{\"user.location.city\"}</div>\n            </span>\n          </span>\n        </div>\n</div>\n);\n}\n\n\nexport default User;","import React from 'react';\nimport styles from './Users.module.css';\nimport userPhoto from '../../temp/image/user.png'\nimport { NavLink } from 'react-router-dom';\nimport Paginator from '../Paginator/Paginator';\nimport User from './User';\n\n\nconst UsersFunc = ({currentPage, onPageChanged, totalUsersCount, pageSize, ...props}) => {\n\n\n  // В данном рефакторинге деструктуризация использована местами,\n  // скорее всего она здесь не совсем уместна.\n\n  let portionSize;\n\n    return (\n      <div>\n        <Paginator \n        currentPage={currentPage}\n        onPageChanged={onPageChanged}\n        totalItemsCount={totalUsersCount}\n        pageSize={pageSize}\n        portionSize={portionSize} />\n\n        <div>\n        {props.usersData.map((user) => <User\n              user={user}\n              followingInProgress={props.followingInProgress}\n              unfollowSuccess={props.unfollowSuccess} \n              followSuccess={props.followSuccess}\n              />\n          )}\n        </div>    \n      </div>\n    )\n  }\n\n\nexport default UsersFunc;","import { createSelector } from \"reselect\"\n\nexport const getUsersData = (state) => {\n    return state.usersPage.usersData\n}\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize\n}\n\nexport const getTotalCurrentPage = (state) => {\n    return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage\n}\n\nexport const getIsLoading = (state) => {\n    return state.usersPage.isLoading\n}\n\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress\n}\n\n\n\n\n\nexport const getUsersDataSuper = createSelector( getUsersData, (users) => {\n    return users.filter((user) => true)\n})","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getUsersThunkCreator, followSuccessThunkCreator, unfollowSuccessThunkCreator } from '../../redux/usersReducer';\nimport UsersFunc from './UsersFunc';\nimport Preloader from '../../common/Preloader/Preloader'\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\nimport { compose } from 'redux';\nimport { getUsersData, getTotalCurrentPage, getIsLoading, getPageSize, getFollowingInProgress } from '../../redux/user-selector';\n\n\n\nclass UsersContainer extends React.Component {\n  \n  \n    componentDidMount() {\n      const {currentPage, pageSize} = this.props;\n      this.props.getUsers(currentPage, pageSize);\n  }\n\n\n  onPageChanged = (pageNumber) => {\n    const {pageSize} = this.props;\n    this.props.getUsers(pageNumber, pageSize);   \n  }\n\n\n  render() {\n      \n   return  <>\n   {this.props.isLoading ? <Preloader /> : null}\n   <UsersFunc \n    totalUsersCount={this.props.totalUsersCount}\n    pageSize={this.props.pageSize}\n    currentPage={this.props.currentPage}\n    onPageChanged={this.onPageChanged}\n    usersData={this.props.usersData}\n    isLoading={this.props.isLoading}\n    followingInProgress={this.props.followingInProgress}\n    followSuccess={this.props.followSuccess}\n    unfollowSuccess={this.props.unfollowSuccess}\n     />\n      </>\n  } \n}\n\n\n\n// let mapStateToProps = (state) => {\n//     return {\n//         usersData: state.usersPage.usersData,\n//         pageSize: state.usersPage.pageSize,\n//         totalUsersCount: state.usersPage.totalUsersCount,\n//         currentPage: state.usersPage.currentPage,\n//         isLoading: state.usersPage.isLoading,\n//         followingInProgress: state.usersPage.followingInProgress,\n//     }\n// }\n\n\n\nlet mapStateToProps = (state) => {\n    return {\n        usersData: getUsersData(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalCurrentPage(state),\n        currentPage: state.usersPage.currentPage,\n        isLoading: getIsLoading(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n}\n\n\n\nexport default compose(\n  connect(mapStateToProps, {\n    getUsers: getUsersThunkCreator,\n    followSuccess: followSuccessThunkCreator,\n    unfollowSuccess: unfollowSuccessThunkCreator,\n  }),\n  withAuthRedirect\n)(UsersContainer)\n\n\n","import React from 'react';\nimport styles from './Header.module.css';\nimport { NavLink } from 'react-router-dom';\n\nconst Header = (props) => {\n    return(\n        <header className={styles.header}>\n        <img src='https://sun9-8.userapi.com/c853620/v853620963/13b4d5/aFszB8VaQCY.jpg' alt='logo' />\n        <div className={styles.loginBlock}>\n          {props.isAuth \n          ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\n          : <NavLink to='/login'>Login</NavLink>}\n        </div>\n      </header>\n    )\n}\n\nexport default Header;","import { authAPI } from \"../api/api\";\nimport { stopSubmit } from \"redux-form\";\n\nconst SET_USER_DATA = 'SET_USER_DATA';\n\nlet initialState = {\n    id: null,\n    login: null,\n    email: null,\n    isAuth: false,\n}\n\nconst authReducer = (state = initialState, action) => {\n    switch(action.type){\n        case SET_USER_DATA :\n            return {\n                ...state,\n                ...action.data,\n            }\n        \n        default:\n        return state;\n    }\n}\n\n\nexport const setAuthUserData = (id, login, email, isAuth) => {\n    return{ type: SET_USER_DATA, data: {id, login, email, isAuth} }\n}\n\n\n\nexport const getAuthUserDataThunkCreator = () => {\n    return async (dispatch) => {\n        let response = await authAPI.getAuth();\n        \n        if(response.data.resultCode === 0){\n            let {id, login, email} = response.data.data;\n            dispatch(setAuthUserData(id, login, email, true));\n        }\n    }\n    return 'completed';\n}\n\nexport const loginTC = (email, password, rememberMe) => {\n    return async (dispatch) => {\n        let response = await authAPI.login(email, password, rememberMe)\n        \n        if(response.data.resultCode === 0){\n            dispatch(getAuthUserDataThunkCreator())\n        } else{\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\n            dispatch(stopSubmit('login', {_error: message}))\n        }\n    }\n}\n\nexport const logoutTC = () => {\n    return async (dispatch) => {\n        let response = await authAPI.logout()\n        \n            if(response.data.resultCode === 0){\n                dispatch(getAuthUserDataThunkCreator())\n                dispatch(setAuthUserData(null, null, null, false)); \n            }\n    }\n}\n\nexport default authReducer; \n\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Header from './Header';\nimport {logoutTC} from '../../redux/authReducer';\n\n\nclass HeaderContainer extends React.Component {\n\n    render() {\n        return <Header {...this.props}/>\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        isAuth: state.auth.isAuth,\n        login: state.auth.login,\n    }\n}\n\n\nexport default connect(mapStateToProps, {logout: logoutTC})(HeaderContainer);","import React from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { connect } from 'react-redux';\nimport { loginTC } from '../../redux/authReducer';\nimport { Input } from '../../common/FormControls/FormControls';\nimport { requiredField } from '../../utilities/validators/validators';\nimport { Redirect } from 'react-router-dom';\nimport style from '../../common/FormControls/FormControls.module.css'\n\n\n\nconst LoginForm = ({handleSubmit, error}) => {\n    return (\n            <form onSubmit={handleSubmit}>\n                <div><Field placeholder='Login' name='email' component={Input} validate={[requiredField]}/></div>\n                <div><Field type='password'placeholder='Password' name='password' component={Input} validate={[requiredField]}/></div>\n                <div><Field type='checkbox' name='rememberMe' component={Input}/>Remember Me</div>\n                <div><button>Login</button></div>\n                {error \n                ? <div className={style.formSummuryError}>{error}</div>\n                : ''}\n            </form>\n    )\n}\n\n\nconst ReduxLoginForm = reduxForm({\n    form: 'login'\n  })(LoginForm)\n\n\nconst Login = (props) => {\n    const onSubmit = ({email, password, rememberMe}) => {\n        props.login(email, password, rememberMe)\n    }\n\n    return (\n        <>\n        {props.isAuth\n        ? <Redirect to={'/profile'} />\n        : <div>\n        <h1>Login</h1>\n        <ReduxLoginForm onSubmit={onSubmit} />\n    </div>}\n    </>\n    )\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        isAuth: state.auth.isAuth,\n    }\n}\n\nexport default connect(mapStateToProps, {\n    login: loginTC,\n})(Login); ","import { getAuthUserDataThunkCreator } from \"./authReducer\";\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\n\nlet initialState = {\n    initialized: false\n}\n\nconst appReducer = (state = initialState, action) => {\n    switch(action.type){\n        case INITIALIZED_SUCCESS :\n            return {\n                ...state,\n                initialized: true\n            }\n        default:\n            return state;\n    }\n}\n\nexport const initializedSuccess = () => {\n    return {type: INITIALIZED_SUCCESS}\n}\n\n\nexport const inizializeAppTC = () => {\n    return (dispatch) => {\n        let promise = dispatch(getAuthUserDataThunkCreator())\n\n        Promise.all([promise])\n        .then(() => {\n            dispatch(initializedSuccess())\n        })\n    }\n}\n\nexport default appReducer;","\n\nlet initialState = {\n    friendsInfo: [\n        { id: \"1\", name: \"Sveta\" },\n        { id: \"2\", name: \"Nikita\" },\n        { id: \"3\", name: \"Dmitry\" },\n      ],\n}\n\nconst friendsReducer = (state = initialState) =>{\n    return state;\n}\n\nexport default friendsReducer;","import dialogsReducer from './dialogsReducer';\nimport profileReducer from './profileReducer';\nimport friendsReducer from './friendsReducer';\nimport usersReducer from './usersReducer';\nimport authReducer from './authReducer';\nimport thunkMiddleware from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form'\nimport appReducer from './appReducer';\nconst { createStore, combineReducers, applyMiddleware, compose } = require(\"redux\");\n\n\n\n\nlet reducers = combineReducers({\n    dialogsPage : dialogsReducer,\n    profilePage : profileReducer,\n    friendsBlock : friendsReducer,\n    usersPage : usersReducer,\n    auth: authReducer,\n    form: formReducer, // Это нормально, что конкретно form отображается таким образом\n    app: appReducer,\n})\n\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\n\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\n\n\nexport default store;","import React from 'react';\nimport Preloader from '../common/Preloader/Preloader';\n\nexport const withSuspense = (Component) => {\n\n\n    return (props) => {\n        return <React.Suspense fallback={<Preloader />}>\n            <Component  {...props}/>\n            </React.Suspense>\n    }\n}","import React from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport Music from './components/Music/Music';\nimport News from './components/News/News';\nimport Settings from './components/Settings _/Settings';\nimport { Route, BrowserRouter } from 'react-router-dom';\nimport UsersContainer from './components/Users/UsersContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport { connect, Provider } from 'react-redux';\nimport { inizializeAppTC } from './redux/appReducer';\nimport Preloader from './common/Preloader/Preloader';\nimport store from './redux/redux-store';\nimport { withSuspense } from './hoc/withSuspense';\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeApp()\n }\n\n  render(){\n\n    if(!this.props.initialized){\n  \t\treturn <Preloader />\n  \t}\n\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar  />\n        <div className=\"app-wrapper-content\">\n          <Route path='/dialogs' render={withSuspense(DialogsContainer)} />\n          <Route path='/profile/:userID?' render={withSuspense(ProfileContainer)} />\n          <Route path='/users' render = { () => <UsersContainer />} />\n          <Route path='/music' component={Music} /> \n          <Route path='/news' component={News} />\n          <Route path='/settings' component={Settings} />\n          <Route path='/login' render={() => <Login />} />\n        </div>\n      </div>\n  );\n  }\n}\n\nlet mapStateToProps = (state) => {\n  return{\n    initialized: state.app.initialized\n  }\n}\n\nconst AppContainer = connect(mapStateToProps, {initializeApp: inizializeAppTC})(App)\n\nconst MainApp = (props) => {\n  return(\n    <BrowserRouter>\n    <Provider store={store}>\n      <AppContainer />\n      </Provider>\n    </BrowserRouter>\n  )\n}\n\nexport default MainApp;","import * as serviceWorker from './serviceWorker';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { fake } from './redux/profileReducer';\nimport MainApp from './App';\n\n\n  // setInterval(() => {\n  //   store.dispatch(fake())\n  // }, 1000)\n\n\n  ReactDOM.render(\n      // <React.StrictMode>\n     <MainApp />\n      // </React.StrictMode>\n    ,\n    document.getElementById(\"root\")\n  );\n\n\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__33LLr\",\"error\":\"FormControls_error__33xao\",\"formSummuryError\":\"FormControls_formSummuryError__3rSHB\"};","import React from 'react';\nimport preloader from '../../temp/image/Spinner-1s-200.svg'\n\nconst Preloader =  (props) => {\n    return(\n        <div>\n        <img src={preloader} />\n        </div>\n    )\n}\n\nexport default Preloader;","import React from 'react';\nimport styles from './FormControls.module.css'\n\n\n\nexport const Textarea = ({input, meta: {touched, error}, ...props}) => {\n\n    const hasError = touched && error;\n\n    return (\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\n            {hasError ? <span>{error}</span> : ''}\n            <div><textarea {...input} {...props}/></div>\n        </div>\n    )\n}\n\n\nexport const Input = ({input, meta: {touched, error}, ...props}) => {\n\n    const hasError = touched && error;\n\n    return(\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\n            {hasError ? <span>{error}</span> : ''}\n            <div><input {...input} {...props}/></div>\n        </div>\n    )\n}\n\n\n\n// Более понятно выше ↑↑↑↑↑↑  (начало урока)\n\n\n// Ниже использование props.children ↓↓↓↓↓\n\n\n// export const FormControl = ({input, meta, child, ...props}) => {\n\n//     const hasError = meta.touched && meta.error;\n\n//     return (\n//         <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\n//             {hasError ? <span>{meta.error}</span> : ''}\n//             <div>{props.children}</div>\n//         </div>\n//     )\n// }\n\n// export const Textarea = (props) => {\n//     const {input, meta, children, ...restProps} = props;\n//     return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\n// }\n\n// export const Input = (props) => {\n//     const {input, meta, children, ...restProps} = props;\n//     return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\n// }\n\n\n\n\n\n\n// Вариант из комментариев, одной функцией ↓↓↓↓↓\n// React.createElement\n\n\n// export const FormControl = ({input, meta, typeField, ...props}) => {\n\n//     const hasError = meta.touched && meta.error;\n\n//     return (\n//         <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\n//             {hasError ? <span>{meta.error}</span> : ''}\n//         <div>{React.createElement(typeField, {...input, ...props})}</div>\n//         </div>\n//     )\n// }\n\n// Использование:\n\n//  <Field component={FormControl} typeField=\"input\" ></Field>\n\n\n\n\n\n // С помощью HOC ↓↓↓↓↓\n\n//  const Element = Element => ({ input, meta, ...props }) => {\n//     const hasError = meta.touched && meta.error;\n//     return (\n//       <div className={ s.formControl + \" \" + (hasError ? s.error : \"\") }>\n//         <Element {...input} {...props} />\n//         { hasError && <span> { meta.error } </span> }\n//       </div>\n//     );\n//   };\n  \n//   А потом просто его импортим в компоненту формы, вызываем как\n  \n//   const Textarea = Element(\"textarea\");\n  \n//   и передаем\n  \n//   <Field component={Textarea} .../>\n\n// P.S. Аргумент у HOC должен быть с большой буквы, чтобы React понимал, что перед ним не обычный html-тег, а компонент/переменная.\n// P.P.S. Создавать const Textarea = Element(\"textarea\"); нужно вне компонента с формой.\n//  наче фокус с формы сбрасывается после первого символа (хз почему, видимо, ререндерится)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__1-Zf7\",\"friends__title\":\"Friends_friends__title__2rx_H\",\"friends__items\":\"Friends_friends__items__2M3b_\"};","import { profileAPI } from \"../api/api\";\n\nconst ADD_POST = 'ADD-POST';\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\n// const FAKE = 'FAKE';\nconst DELETE_POST = 'DELETE_POST';\n\n\nlet initialState = {\n  postsData: [\n    { message: \"Hello, how are you ?\", likeCounts: \"15\" },\n    { message: \"It's my first post\", likeCounts: \"20\" },\n    { message: \"Where i'am ?\", likeCounts: \"3\" },\n    { message: \"Some post\", likeCounts: \"10\" },\n  ],\n  newPostText: \"Hello, man!\",\n  userProfile: null,\n  status: '',\n  fakeNum: 10,\n};\n\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST: \n\n    let newPost = {\n      message: action.newMessage,\n      likeCounts: 0,\n    };\n\n    return {\n      ...state,\n      postsData: [...state.postsData, newPost],\n    }\n    \n\n    case SET_USER_PROFILE: \n      return {\n        ...state,\n        userProfile: action.userProfile,\n      }\n\n    case SET_STATUS : \n      return {\n        ...state,\n        status: action.status,\n      }\n    \n      // case FAKE: \n      // return {\n      //   ...state,\n      //   fakeNum: state.fakeNum + 1\n      // }\n\n      case DELETE_POST :\n        return{\n          ...state,\n          postsData: state.postsData.filter(post => post.id !== action.postID)\n        }\n\n      \n    default:\n      return state;\n  }\n};\n\n\n\nexport const addPost = (newMessage) => {\n  return {type: ADD_POST, newMessage};\n};\n \n\nexport const setUserProfile = (userProfile) => {\n  return {type: SET_USER_PROFILE, userProfile: userProfile}\n}\n\n\nexport const setStatus = (status) => {\n  return {type: SET_STATUS, status: status}\n}\n\n\nexport const deletePost = (postID) => {\n  return{type: 'DELETE_POST', postID}\n}\n\n\n\nexport const getProfileThunkCreator = (userID) => {\n  return async (dispatch) => {\n    let response = await profileAPI.getUserProfile(userID)   \n    \n    dispatch(setUserProfile(response.data))\n  }\n}\n\n\nexport const getUserStatusTC = (userID) => {\n  return async (dispatch) => {\n    let response = await profileAPI.getStatus(userID)\n    \n    dispatch(setStatus(response.data))\n  }\n}\n\nexport const updateUserStatusTC = (status) => {\n  return async (dispatch) => {\n    let response = await profileAPI.updateStatus(status)\n\n    if(response.data.resultCode === 0){\n      dispatch(setStatus(status))\n    }\n  }\n} \n\n\n// export const fake = () => {\n//   return {type: FAKE}\n// }\n\n\nexport default profileReducer;","export const requiredField = (value) => {\n    if(value) return undefined;\n    return 'Field is required';\n}\n\nexport const maxLength30 = (value) => {\n\tif(value && value.lenght > 30) return 'Max length is 30 symbols';\n\treturn undefined; \n}\n\n\nexport const maxLengthCreator = (maxLength) => {\n    return (value) => {\n        if(value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\n        return undefined;\n    }\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__17MJB\"};","module.exports = __webpack_public_path__ + \"static/media/user.f9fcc796.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\"};","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\n\nlet mapStateToPropsRedirect = (state) => {\n    return {\n      isAuth: state.auth.isAuth,\n    }\n}\n\nexport const withAuthRedirect = (Component) => {\n\n    class RedirectComponent extends React.Component{\n        render(){\n            if(this.props.isAuth === false){        \n                return <Redirect to={'/login'} />\n              }\n\n              return <Component {...this.props} />\n        }\n    }\n      \n      let ConnectedAuthRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent);\n      \n\n    return ConnectedAuthRedirectComponent ;\n}\n"],"sourceRoot":""}